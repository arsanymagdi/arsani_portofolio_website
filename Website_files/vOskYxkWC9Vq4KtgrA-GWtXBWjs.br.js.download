var SpeechServiceHelper;(function(n){function c(u,f,c,l){var a,v;n.isTokenUsed=u;e=f;t=c;n.isTokenUsed&&i()&&t&&(a=sessionStorage.getItem(n.tokenSessionExpiry),a&&(v=Number(atob(a))-Date.now(),h(v)&&(s(sessionStorage.getItem(n.tokenSessionKey),v,atob(sessionStorage.getItem(n.tokenSessionRegion))),setTimeout(function(){r()},n.adjustedTokenExpiryDurationInMS))));n.isTokenUsed&&!n.validTokenpresent&&l&&o()}function o(t,i){if(t===void 0&&(t=n.emptyFunction),i===void 0&&(i=n.emptyFunction),n.isTokenUsed&&AbusePreventionHelper.isEndpointTokenValid()){var u=sj_gx(),o=AbusePreventionHelper.getEndpointAuthParams();u.open("POST",RichTranslateHelper.getInstEndPointUrl(e,transDom.iid,f++),!0);u.setRequestHeader("Content-type","application/x-www-form-urlencoded");u.onreadystatechange=function(){if(u.readyState===4){if(u.status===200&&u.responseText){var n=JSON.parse(u.responseText);if(y(n)){w(n.token,Number(n.expiryDurationInMS),n.region,t);return}if(n.hasOwnProperty("statusCode")&&n.statusCode==205){RichTranslateHelper.refreshPageWithSourceText();return}}r();i()}};u.send(o)}}function i(){return typeof Storage=="undefined"||typeof sessionStorage=="undefined"?!1:!0}function l(n){for(var i="",r=new Uint8Array(n),u=r.byteLength,t=0;t<u;t++)i+=String.fromCharCode(r[t]);return btoa(i)}function a(n){var t="";switch(n){case"ar":t="ar-EG";break;case"bg":t="bg-BG";break;case"ca":t="ca-ES";break;case"da":t="da-DK";break;case"de":t="de-DE";break;case"el":t="el-GR";break;case"en":t="en-US";break;case"es":t="es-ES";break;case"et":t="et-EE";break;case"fi":t="fi-FI";break;case"fr":t="fr-FR";break;case"ga":t="ga-IE";break;case"gu":t="gu-IN";break;case"hi":t="hi-IN";break;case"hr":t="hr-HR";break;case"it":t="it-IT";break;case"ja":t="ja-JP";break;case"ko":t="ko-KR";break;case"lt":t="lt-LT";break;case"lv":t="lv-LV";break;case"mr":t="mr-IN";break;case"mt":t="mt-MT";break;case"nb":t="nb-NO";break;case"nl":t="nl-NL";break;case"pl":t="pl-PL";break;case"pt":t="pt-BR";break;case"pt-PT":t="pt-PT";break;case"ro":t="ro-RO";break;case"ru":t="ru-RU";break;case"sk":t="sk-SK";break;case"sl":t="sl-SI";break;case"sv":t="sv-SE";break;case"ta":t="ta-IN";break;case"te":t="te-IN";break;case"th":t="th-TH";break;case"tr":t="tr-TR";break;case"yue":t="zh-HK";break;case"zh-Hans":t="zh-CN";break;case"zh-Hant":t="zh-HK"}return t}function v(n){var t="",i="",r="";switch(n){case"af":t="af-ZA";i="Female";r="af-ZA-AdriNeural";break;case"am":t="am-ET";i="Female";r="am-ET-MekdesNeural";break;case"ar":t="ar-SA";i="Male";r="ar-SA-HamedNeural";break;case"bn":t="bn-IN";i="Female";r="bn-IN-TanishaaNeural";break;case"bg":t="bg-BG";i="Male";r="bg-BG-BorislavNeural";break;case"ca":t="ca-ES";i="Female";r="ca-ES-JoanaNeural";break;case"cs":t="cs-CZ";i="Male";r="cs-CZ-AntoninNeural";break;case"cy":t="cy-GB";i="Female";r="cy-GB-NiaNeural";break;case"da":t="da-DK";i="Female";r="da-DK-ChristelNeural";break;case"de":t="de-DE";i="Female";r="de-DE-KatjaNeural";break;case"el":t="el-GR";i="Male";r="el-GR-NestorasNeural";break;case"en":t="en-US";i="Female";r="en-US-AriaNeural";break;case"es":t="es-ES";i="Female";r="es-ES-ElviraNeural";break;case"et":t="et-EE";i="Female";r="et-EE-AnuNeural";break;case"fa":t="fa-IR";i="Female";r="fa-IR-DilaraNeural";break;case"fi":t="fi-FI";i="Female";r="fi-FI-NooraNeural";break;case"fr":t="fr-FR";i="Female";r="fr-FR-DeniseNeural";break;case"fr-CA":t="fr-CA";i="Female";r="fr-CA-SylvieNeural";break;case"ga":t="ga-IE";i="Female";r="ga-IE-OrlaNeural";break;case"gu":t="gu-IN";i="Female";r="gu-IN-DhwaniNeural";break;case"he":t="he-IL";i="Male";r="he-IL-AvriNeural";break;case"hi":t="hi-IN";i="Female";r="hi-IN-SwaraNeural";break;case"hr":t="hr-HR";i="Male";r="hr-HR-SreckoNeural";break;case"hu":t="hu-HU";i="Male";r="hu-HU-TamasNeural";break;case"id":t="id-ID";i="Male";r="id-ID-ArdiNeural";break;case"is":t="is-IS";i="Female";r="is-IS-GudrunNeural";break;case"it":t="it-IT";i="Male";r="it-IT-DiegoNeural";break;case"ja":t="ja-JP";i="Female";r="ja-JP-NanamiNeural";break;case"kk":t="kk-KZ";i="Female";r="kk-KZ-AigulNeural";break;case"km":t="km-KH";i="Female";r="km-KH-SreymomNeural";break;case"kn":t="kn-IN";i="Female";r="kn-IN-SapnaNeural";break;case"ko":t="ko-KR";i="Female";r="ko-KR-SunHiNeural";break;case"lo":t="lo-LA";i="Female";r="lo-LA-KeomanyNeural";break;case"lv":t="lv-LV";i="Female";r="lv-LV-EveritaNeural";break;case"lt":t="lt-LT";i="Female";r="lt-LT-OnaNeural";break;case"mk":t="mk-MK";i="Female";r="mk-MK-MarijaNeural";break;case"ml":t="ml-IN";i="Female";r="ml-IN-SobhanaNeural";break;case"mr":t="mr-IN";i="Female";r="mr-IN-AarohiNeural";break;case"ms":t="ms-MY";i="Male";r="ms-MY-OsmanNeural";break;case"mt":t="mt-MT";i="Female";r="mt-MT-GraceNeural";break;case"my":t="my-MM";i="Female";r="my-MM-NilarNeural";break;case"nl":t="nl-NL";i="Female";r="nl-NL-ColetteNeural";break;case"nb":t="nb-NO";i="Female";r="nb-NO-PernilleNeural";break;case"pl":t="pl-PL";i="Female";r="pl-PL-ZofiaNeural";break;case"ps":t="ps-AF";i="Female";r="ps-AF-LatifaNeural";break;case"pt":t="pt-BR";i="Female";r="pt-BR-FranciscaNeural";break;case"pt-PT":t="pt-PT";i="Female";r="pt-PT-FernandaNeural";break;case"ro":t="ro-RO";i="Male";r="ro-RO-EmilNeural";break;case"ru":t="ru-RU";i="Female";r="ru-RU-DariyaNeural";break;case"sk":t="sk-SK";i="Male";r="sk-SK-LukasNeural";break;case"sl":t="sl-SI";i="Male";r="sl-SI-RokNeural";break;case"sr-Cyrl":t="sr-RS";i="Female";r="sr-RS-SophieNeural";break;case"sv":t="sv-SE";i="Female";r="sv-SE-SofieNeural";break;case"ta":t="ta-IN";i="Female";r="ta-IN-PallaviNeural";break;case"te":t="te-IN";i="Male";r="te-IN-ShrutiNeural";break;case"th":t="th-TH";i="Male";r="th-TH-NiwatNeural";break;case"tr":t="tr-TR";i="Female";r="tr-TR-EmelNeural";break;case"uk":t="uk-UA";i="Female";r="uk-UA-PolinaNeural";break;case"ur":t="ur-IN";i="Female";r="ur-IN-GulNeural";break;case"uz":t="uz-UZ";i="Female";r="uz-UZ-MadinaNeural";break;case"vi":t="vi-VN";i="Male";r="vi-VN-NamMinhNeural";break;case"zh-Hans":t="zh-CN";i="Female";r="zh-CN-XiaoxiaoNeural";break;case"zh-Hant":t="zh-CN";i="Female";r="zh-CN-XiaoxiaoNeural";break;case"yue":t="zh-HK";i="Female";r="zh-HK-HiuGaaiNeural"}return new p(t,i,r)}function r(){n.validTokenpresent=!1;n.authToken="";n.adjustedTokenExpiryDurationInMS=0;n.regionKey=""}function s(t,i,r){n.validTokenpresent=!0;n.authToken=t;n.regionKey=r;n.adjustedTokenExpiryDurationInMS=i-u}function h(n){return!isNaN(n)&&n-u>0}function y(n){return n&&n.hasOwnProperty("token")&&n.hasOwnProperty("expiryDurationInMS")&&n.hasOwnProperty("region")?h(Number(n.expiryDurationInMS)):!1}function p(n,t,i){this.locale=n;this.gender=t;this.voiceName=i}function w(u,f,e,o){o===void 0&&(o=n.emptyFunction);s(u,f,e);i()&&t&&(sessionStorage.setItem(n.tokenSessionKey,u),sessionStorage.setItem(n.tokenSessionExpiry,btoa((Date.now()+f).toString())),sessionStorage.setItem(n.tokenSessionRegion,btoa(e)));o();setTimeout(function(){r()},n.adjustedTokenExpiryDurationInMS)}var u=3e4,f,e,t;n.tokenSessionKey="TTSR";n.tokenSessionExpiry="TE";n.tokenSessionRegion="TR";n.emptyFunction=function(){};n.isTokenUsed=!0;n.validTokenpresent=!1;f=1;n.init=c;n.fetchOrUpdateSpeechAuthTokenOnDemand=o;n.isSessionStorageSupported=i;n.arrayBufferToBase64=l;n.mapSelectedLanguageToVoiceInputLanguageCode=a;n.mapSelectedLanguageToTextOutputLanguageCode=v})(SpeechServiceHelper||(SpeechServiceHelper={}))