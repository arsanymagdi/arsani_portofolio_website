(function(){function i(n){var t=transDom.input.textArea;t&&(RichTranslateHelper.updateTextArea(t,n),sj_evt.fire(RichTranslateHelper.sharedMicControlTriggerEvtName),translationClientInst.log(RichTranslateHelper.sharedMicControlTriggerEvtName,"fromLang",transDom.input.langSelect.value,"inputTextLen",n.length.toString()))}function r(){var t,i,r,n,u;RichTranslateHelper.loadMic&&(t=transDom.input.sharedMicDiv,t&&(t.classList.add("hasmic"),RichTranslateHelper.isSharedMicListening=!1,transDom.input.sharedMic.classList.add("t_option"),i=transDom.input.sharedMic.firstElementChild,i&&(i.style.display="inline-block"),r=transDom.input.sharedMic.lastElementChild,r&&(n=r.firstElementChild,n&&(n.removeAttribute("data-sbtipx"),n.removeAttribute("data-tooltip"),n.setAttribute("aria-label",RichTranslateLocTexts.MicToolTip))),transDom.input.sharedMicToolTip&&(u=transDom.input.sharedMicToolTip.firstElementChild,u&&InfoBubble.closeBubble(u.id,!1),transDom.input.sharedMicToolTip.style.display="inline-block")))}function t(){RichTranslateHelper.isSharedMicListening?(translatorTel.logEvent(TranslatorWebTelemetry.EventScope.Mic_Event,"Shared Mic button clicked",{ux_action:"SharedMicButtonClickedToStopSpeech"}),translationClientInst.log("SharedMicButtonClickedToStopSpeech","fromLang",transDom.input.langSelect.value)):(RichTranslateHelper.isSharedMicListening=!0,translatorTel.logEvent(TranslatorWebTelemetry.EventScope.Mic_Event,"Shared Mic button clicked",{ux_action:"SharedMicButtonClickedToStartSpeech"}),transDom.input.sharedMicToolTip.style.display="none",translationClientInst.log("SharedMicButtonClickedToStartSpeech","fromLang",transDom.input.langSelect.value))}var n=transDom.input.sharedMic;n&&(n.handleText=i,n.iconInit=r,n.LoggingName="speechTranslateThis",n.TextareaId="#tta_input_ta",n.clientbuild="TranslateThis",n.langLocQuery="#tta_speechiconsrc",n.langLocProp="lang",sj_be(n,"click",t),sj_be(n,"keydown",function(n){n.keyCode===RichTranslateHelper.enterKeyCode&&t()}))})()