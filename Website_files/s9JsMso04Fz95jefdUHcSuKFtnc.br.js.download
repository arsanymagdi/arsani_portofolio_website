var SharedMicHelper;(function(n){function i(){var t=transDom.input.langSelect.selectedIndex===0,n;return t?!1:(n=RichTranslateHelper.mapSelectedLanguageToVoiceInputLanguageCode(transDom.input.langSelect.value),r.indexOf(n)>-1)}function e(){var h;if(i()&&transDom.input.sharedMicDiv){var o=transDom.container,n=o.getBoundingClientRect(),s=transDom.input.sharedMicDiv.getBoundingClientRect(),c=t&&RichTranslateHelper.isVertical?0:transDom.input.sharedMicDiv.offsetTop,l=t&&RichTranslateHelper.isVertical?0:transDom.input.sharedMicDiv.offsetLeft,r,e;(r=Math.round(n.y-s.y+c+0),e=Math.round(n.x-s.x+l+0),transDom.ttaContainerDimensions.height!=n.height||transDom.ttaContainerDimensions.width!=n.width||e!=u||r!=f)&&(h=["#tta_speechiconsrc .b_speech_overlay .b_speech_cont {\nheight: ",o.offsetHeight.toString(),"px;\nwidth: ",o.offsetWidth.toString(),"px;\ntop: ",r.toString(),"px;\nleft: ",e.toString(),"px; right: unset;}"].join(""),transDom.input.sharedMicOverlayStyleElement.innerHTML=h,transDom.ttaContainerDimensions.height=n.height,transDom.ttaContainerDimensions.width=n.width,u=e,f=r)}}function o(){var t,n;if(RichTranslateHelper.isSharedMicListening=!1,i())transDom.input.sharedMicDiv&&transDom.input.sharedMic&&(RichTranslateHelper.isMicInitialized||(t=transDom.input.sharedMic,RichTranslateHelper.isMicInitialized=!0,t.iconInit()),translationClientInst.log(s,"fromLang",transDom.input.langSelect.value),RichTranslateHelper.showElement(transDom.input.sharedMicDiv),e(),transDom.input.sharedMicDiv.lang=RichTranslateHelper.mapSelectedLanguageToVoiceInputLanguageCode(transDom.input.langSelect.value),n=transDom.input.sharedMic.firstElementChild,n&&(n.style.display="inherit"));else{RichTranslateHelper.hideElement(transDom.input.sharedMicDiv);return}}function c(n,u,f,s){if(r=n,t=u,h=f,s){RichTranslateHelper.loadMic=!0;var c=transDom.input.sharedMic;c&&i()&&(RichTranslateHelper.isMicInitialized=!0,c.iconInit());sj_evt.bind(RichTranslateHelper.sourceLangChanged,o);sj_evt.bind(RichTranslateHelper.autoScaleEvent,e);_d.head.appendChild(transDom.input.sharedMicOverlayStyleElement);o()}}var s="SharedMicShown",r,u=0,f=0,h,t;n.initialize=c;sj_evt.fire("speechRecognizerLoaded")})(SharedMicHelper||(SharedMicHelper={}))